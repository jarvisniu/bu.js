<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashed Stroke</title>
    <script src="../../lib/za_geom2d.min.js"></script>
    <script src="../../src/Geom2D.dev.js"></script>
    <script type="text/javascript">

        var renderer;
        var line, triangle, rectangle, polyline, polygon;
        var isFlowOn = false;

        function init() {
            // renderer
            renderer = new Geom2D.Renderer();
            document.body.appendChild(renderer.dom);

            line = new Geom2D.Line(
                    Math.rand(renderer.width),
                    Math.rand(renderer.height),
                    Math.rand(renderer.width),
                    Math.rand(renderer.height)
            );
            line.dash(2);
            renderer.append(line);

            triangle = new Geom2D.Triangle(
                    new Geom2D.Point(Math.rand(renderer.width), Math.rand(renderer.height)),
                    new Geom2D.Point(Math.rand(renderer.width), Math.rand(renderer.height)),
                    new Geom2D.Point(Math.rand(renderer.width), Math.rand(renderer.height))
            );
            triangle.dash(4);
            renderer.append(triangle);

            rectangle = new Geom2D.Rectangle(
                    Math.rand(renderer.width),
                    Math.rand(renderer.height),
                    Math.rand(renderer.width / 2),
                    Math.rand(renderer.height / 2)
            );
            rectangle.dash(8);
            renderer.append(rectangle);

            polygon = new Geom2D.Polygon();
            for (var i = 0; i < 5; i++) {
                polygon.addPoint(new Geom2D.Point(
                        Math.rand(renderer.width),
                        Math.rand(renderer.height)
                ));
            }
            polygon.dash();
            polygon.stroke("red");
            renderer.append(polygon);

            polyline = new Geom2D.Polyline();
            for (i = 0; i < 3; i++) {
                polyline.addPoint(new Geom2D.Point(
                        Math.rand(renderer.width),
                        Math.rand(renderer.height)
                ));
            }
            polyline.dash();
            polyline.stroke("purple");
            renderer.append(polyline);

            $("#btnStrokeFlow").on("click", function () {
                isFlowOn = !isFlowOn;
            });

            setInterval(tickFlow, 1000 / 30);
        }

        function tickFlow() {
            if(isFlowOn) {
                line.dashDelta += 1;
                rectangle.dashDelta += 2;
                polyline.dashDelta += 2;
                polygon.dashDelta += 2;
                triangle.dashDelta += 2;
            }
        }

        $.ready(init);
    </script>
</head>
<body>
<button id="btnStrokeFlow">Stroke Flow</button>
<div>Dashed line stroke examples.</div>

</body>
</html>
